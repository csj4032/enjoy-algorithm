package p14500;

import java.util.Scanner;

public class Main {

	// I J L O S D Z
	// Y X
	static int[][][] t = {
			{{0, 0}, {0, 1}, {0, 2}, {0, 3}},
			{{0, 0}, {1, 0}, {2, 0}, {3, 0}},

			{{0, 0}, {0, -1}, {-1, -1}, {0, 1}},
			{{0, 0}, {-1, 0}, {-1, 1}, {1, 0}},
			{{0, 0}, {0, -1}, {0, 1}, {1, 1}},
			{{0, 0}, {-1, 0}, {1, 0}, {1, -1}},

			{{0, 0}, {0, -1}, {0, 1}, {-1, 1}},
			{{0, 0}, {-1, 0}, {1, 0}, {1, 1}},
			{{0, 0}, {0, -1}, {0, 1}, {1, -1}},
			{{0, 0}, {-1, 0}, {-1, -1}, {1, 0}},

			{{0, 0}, {0, 1}, {1, 1}, {1, 0}},

			{{0, 0}, {0, -1}, {-1, 0}, {-1, 1}},
			{{0, 0}, {-1, 0}, {0, 1}, {1, 1}},
			{{0, 0}, {0, 1}, {1, 0}, {1, -1}},
			{{0, 0}, {0, -1}, {-1, -1}, {1, 0}},

			{{0, 0}, {0, -1}, {-1, 0}, {0, 1}},
			{{0, 0}, {-1, 0}, {0, 1}, {1, 0}},
			{{0, 0}, {0, -1}, {0, 1}, {1, 0}},
			{{0, 0}, {0, -1}, {-1, 0}, {1, 0}},

			{{0, 0}, {-1, 0}, {-1, -1}, {0, 1}},
			{{0, 0}, {1, 0}, {0, 1}, {-1, 1}},
			{{0, 0}, {0, -1}, {1, 0}, {1, 1}},
			{{0, 0}, {0, -1}, {1, -1}, {-1, 0}}
	};


	public static void main(String[] args) {
		var sc = new Scanner(System.in);
		var n = sc.nextInt();
		var m = sc.nextInt();
		var l = new int[n][m];
		for (int i = 0; i < n; i++) {
			for (int j = 0; j < m; j++) {
				l[i][j] = sc.nextInt();
			}
		}

		var kk = 0;
		for (int i = 0; i < n; i++) {
			for (int j = 0; j < m; j++) {
				for (int k = 0; k < 23; k++) {
					var kkk = 0;
					for (int o = 0; o < 4; o++) {
						var tt = t[k][o];
						if (tt[0] + i >= 0 && tt[0] + i < n && tt[1] + j >= 0 && tt[1] + j < m) {
							kkk += l[i + tt[0]][j + tt[1]];
						}
					}
					kk = Math.max(kkk, kk);
				}
			}
		}
		System.out.println(kk);
	}
}
